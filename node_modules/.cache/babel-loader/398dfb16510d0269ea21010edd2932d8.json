{"ast":null,"code":"import _slicedToArray from\"/home/arnaud/developpement/react_projects/crypto_knight/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Select,Typography,Row,Col,Avatar,Card}from\"antd\";import moment from\"moment\";import{useGetCryptoNewsQuery}from\"../services/cryptoNewsApi\";import{useGetCryptosQuery}from\"../services/cryptoApi\";import Loader from\"./Loader\";import demoImage from\"../images/cryptos1.jpg\";import demoImage2 from\"../images/cryptoAvatar.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Text=Typography.Text,Title=Typography.Title;var Option=Select.Option;var News=function News(_ref){var _cryptosList$data;var simplified=_ref.simplified;var _useState=useState(\"Cryptocurrency\"),_useState2=_slicedToArray(_useState,2),newsCategory=_useState2[0],setNewsCategory=_useState2[1];var _useGetCryptoNewsQuer=useGetCryptoNewsQuery({newsCategory:newsCategory,count:simplified?6:12}),cryptoNews=_useGetCryptoNewsQuer.data;var _useGetCryptosQuery=useGetCryptosQuery(100),cryptosList=_useGetCryptosQuery.data,isFetching=_useGetCryptosQuery.isFetching;if(!(cryptoNews===null||cryptoNews===void 0?void 0:cryptoNews.value))return/*#__PURE__*/_jsx(Loader,{});return/*#__PURE__*/_jsxs(Row,{gutter:[24,24],children:[!simplified&&/*#__PURE__*/_jsx(Col,{span:24,children:/*#__PURE__*/_jsxs(Select,{showSearch:true,className:\"select-news\",placeholder:\"select a Crypto\",optionFilterProp:\"children\",onChange:function onChange(value){return setNewsCategory(value);},filterOption:function filterOption(input,option){return option.children.toLowerCase().indexOf(input.toLowerCase())>=0;},children:[/*#__PURE__*/_jsx(Option,{value:\"Cryptocurrency\",children:\"Cryptocurrency\"}),cryptosList===null||cryptosList===void 0?void 0:(_cryptosList$data=cryptosList.data)===null||_cryptosList$data===void 0?void 0:_cryptosList$data.coins.map(function(coin){return/*#__PURE__*/_jsx(Option,{value:coin.name,children:coin.name});})]})}),cryptoNews.value.map(function(news,i){var _news$image,_news$image$thumbnail,_news$provider$,_news$provider$$image,_news$provider$$image2,_news$provider$2;return/*#__PURE__*/_jsx(Col,{xs:24,sm:12,lg:8,children:/*#__PURE__*/_jsx(Card,{hoverable:true,className:\"news-card\",children:/*#__PURE__*/_jsxs(\"a\",{href:news.url,target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"news-image-container\",children:[/*#__PURE__*/_jsx(Title,{className:\"news-title\",level:4,children:news.name}),/*#__PURE__*/_jsx(\"img\",{style:{maxWidth:\"200px\",maxHeight:\"100px\"},src:(news===null||news===void 0?void 0:(_news$image=news.image)===null||_news$image===void 0?void 0:(_news$image$thumbnail=_news$image.thumbnail)===null||_news$image$thumbnail===void 0?void 0:_news$image$thumbnail.contentUrl)||demoImage,alt:\"news\"})]}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:news.description>100?\"\".concat(news.description.substring(0,100),\" ...\"):news.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"provider-container\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Avatar,{src:((_news$provider$=news.provider[0])===null||_news$provider$===void 0?void 0:(_news$provider$$image=_news$provider$.image)===null||_news$provider$$image===void 0?void 0:(_news$provider$$image2=_news$provider$$image.thumbnail)===null||_news$provider$$image2===void 0?void 0:_news$provider$$image2.contentUrl)||demoImage2,alt:\"\"}),/*#__PURE__*/_jsx(Text,{className:\"provider-name\",children:(_news$provider$2=news.provider[0])===null||_news$provider$2===void 0?void 0:_news$provider$2.name})]}),/*#__PURE__*/_jsx(Text,{italic:true,type:\"danger\",children:moment(news.datePublished).startOf(\"ss\").fromNow()})]})]})})},i);})]});};// import { Typography, Space } from 'antd';\n// const { Text, Link } = Typography;\n// ReactDOM.render(\n//   <Space direction=\"vertical\">\n//     <Text>Ant Design (default)</Text>\n//     <Text type=\"secondary\">Ant Design (secondary)</Text>\n//     <Text type=\"success\">Ant Design (success)</Text>\n//     <Text type=\"warning\">Ant Design (warning)</Text>\n//     <Text type=\"danger\">Ant Design (danger)</Text>\n//     <Text disabled>Ant Design (disabled)</Text>\n//     <Text mark>Ant Design (mark)</Text>\n//     <Text code>Ant Design (code)</Text>\n//     <Text keyboard>Ant Design (keyboard)</Text>\n//     <Text underline>Ant Design (underline)</Text>\n//     <Text delete>Ant Design (delete)</Text>\n//     <Text strong>Ant Design (strong)</Text>\n//     <Text italic>Ant Design (italic)</Text>\n//     <Link href=\"https://ant.design\" target=\"_blank\">\n//       Ant Design (Link)\n//     </Link>\n//   </Space>,\n//   mountNode,\n// );\nexport default News;","map":{"version":3,"sources":["/home/arnaud/developpement/react_projects/crypto_knight/src/components/News.jsx"],"names":["React","useState","Select","Typography","Row","Col","Avatar","Card","moment","useGetCryptoNewsQuery","useGetCryptosQuery","Loader","demoImage","demoImage2","Text","Title","Option","News","simplified","newsCategory","setNewsCategory","count","cryptoNews","data","cryptosList","isFetching","value","input","option","children","toLowerCase","indexOf","coins","map","coin","name","news","i","url","maxWidth","maxHeight","image","thumbnail","contentUrl","description","substring","provider","datePublished","startOf","fromNow"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Select, Typography, Row, Col, Avatar, Card } from \"antd\";\nimport moment from \"moment\";\n\nimport { useGetCryptoNewsQuery } from \"../services/cryptoNewsApi\";\nimport { useGetCryptosQuery } from \"../services/cryptoApi\";\nimport Loader from \"./Loader\";\n\nimport demoImage from \"../images/cryptos1.jpg\";\nimport demoImage2 from \"../images/cryptoAvatar.jpg\";\n\nconst { Text, Title } = Typography;\nconst { Option } = Select;\n\nconst News = ({ simplified }) => {\n  const [newsCategory, setNewsCategory] = useState(\"Cryptocurrency\");\n  const { data: cryptoNews } = useGetCryptoNewsQuery({\n    newsCategory,\n    count: simplified ? 6 : 12,\n  });\n  const { data: cryptosList, isFetching } = useGetCryptosQuery(100);\n\n  if (!cryptoNews?.value) return <Loader />;\n  return (\n    <Row gutter={[24, 24]}>\n      {!simplified && (\n        <Col span={24}>\n          <Select\n            showSearch\n            className=\"select-news\"\n            placeholder=\"select a Crypto\"\n            optionFilterProp=\"children\"\n            onChange={(value) => setNewsCategory(value)}\n            filterOption={(input, option) =>\n              option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n            }\n          >\n            <Option value=\"Cryptocurrency\">Cryptocurrency</Option>\n            {cryptosList?.data?.coins.map((coin) => <Option value={coin.name}>{coin.name}</Option>)}\n          </Select>\n        </Col>\n      )}\n      {cryptoNews.value.map((news, i) => (\n        <Col xs={24} sm={12} lg={8} key={i}>\n          <Card hoverable className=\"news-card\">\n            <a href={news.url} target=\"_blank\" rel=\"noreferrer\">\n              <div className=\"news-image-container\">\n                <Title className=\"news-title\" level={4}>\n                  {news.name}\n                </Title>\n                <img\n                  style={{ maxWidth: \"200px\", maxHeight: \"100px\" }}\n                  src={news?.image?.thumbnail?.contentUrl || demoImage}\n                  alt=\"news\"\n                />\n              </div>\n              <Text type=\"secondary\">\n                {news.description > 100\n                  ? `${news.description.substring(0, 100)} ...`\n                  : news.description}\n              </Text>\n              <div className=\"provider-container\">\n                <div>\n                  <Avatar\n                    src={\n                      news.provider[0]?.image?.thumbnail?.contentUrl ||\n                      demoImage2\n                    }\n                    alt=\"\"\n                  />\n                  <Text className=\"provider-name\">\n                    {news.provider[0]?.name}\n                  </Text>\n                </div>\n                <Text italic type=\"danger\">\n                  {moment(news.datePublished).startOf(\"ss\").fromNow()}\n                </Text>\n              </div>\n            </a>\n          </Card>\n        </Col>\n      ))}\n    </Row>\n  );\n};\n// import { Typography, Space } from 'antd';\n\n// const { Text, Link } = Typography;\n\n// ReactDOM.render(\n//   <Space direction=\"vertical\">\n//     <Text>Ant Design (default)</Text>\n//     <Text type=\"secondary\">Ant Design (secondary)</Text>\n//     <Text type=\"success\">Ant Design (success)</Text>\n//     <Text type=\"warning\">Ant Design (warning)</Text>\n//     <Text type=\"danger\">Ant Design (danger)</Text>\n//     <Text disabled>Ant Design (disabled)</Text>\n//     <Text mark>Ant Design (mark)</Text>\n//     <Text code>Ant Design (code)</Text>\n//     <Text keyboard>Ant Design (keyboard)</Text>\n//     <Text underline>Ant Design (underline)</Text>\n//     <Text delete>Ant Design (delete)</Text>\n//     <Text strong>Ant Design (strong)</Text>\n//     <Text italic>Ant Design (italic)</Text>\n//     <Link href=\"https://ant.design\" target=\"_blank\">\n//       Ant Design (Link)\n//     </Link>\n//   </Space>,\n//   mountNode,\n// );\n\nexport default News;\n"]},"metadata":{},"sourceType":"module"}